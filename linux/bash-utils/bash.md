
### Трюки с shell
```shell
# Ввод в один файл
command &> output.log
# или
command > output.log 2>&1
# Вывод в разные файлы
command > output.log 2> err.log



apt install python3   # Ошибка: нужно sudo
sudo !!               # Повторяет с sudo: sudo apt install python3

mkdir project
cd !$                 # cd project

# Пустая команда
: ${VAR:=default}  # Присвоит VAR значение "default", если оно пустое

# Запуск процесса в фоне с выводом pid
sleep 1000 &
```


### Специальные переменные Bash

| Переменная | Описание                          | Пример использования                  |
|------------|----------------------------------|--------------------------------------|
| `$!`       | PID последнего фонового процесса | `kill $!`                            |
| `$$`       | PID текущего shell               | `echo $$`                            |
| `$?`       | Код возврата последней команды   | `if [ $? -ne 0 ]; then ...`          |
| `$_`       | Последний аргумент предыдущей команды | `mkdir dir && cd $_`           |
| `$0`       | Имя скрипта/shell                | `echo "Скрипт: $0"`                  |
| `$1`-`$9`  | Аргументы скрипта                | `echo "Первый аргумент: $1"`         |
| `$#`       | Число аргументов                 | `echo "Всего аргументов: $#"`        |
| `$@`       | Все аргументы (разделённые)      | `for arg in "$@"; do ...`            |
| `$*`       | Все аргументы (в одной строке)   | `echo "$*"`                          |
| `$PPID`    | PID родительского процесса       | `ps -p $PPID`                        |
| `$RANDOM`  | Случайное число                  | `echo $((RANDOM % 100))`             |
| `$BASHPID` | PID подоболочки                  | `( echo $BASHPID )`                  |
| `$SECONDS` | Время работы скрипта (сек)       | `echo "Прошло $SECONDS сек"`         |

### Особенности использования

1. **`$@` vs `$*`**:
    ```bash
    # Разница в кавычках:
    for arg in "$@"; do  # Правильная обработка аргументов с пробелами
        echo "$arg"
    done
2. Отладка:
    ```bash
    #!/bin/bash
    set -x  # Включаем отладку 
    name="Alice"
    echo "Hello, $name"
    set +x  # Выключаем отладку (опционально)
```
+ for i in '{1..3}'
+ (( i % 2 == 0 ))
+ echo '1 — нечётное'
  1 — нечётное
+ for i in '{1..3}'
+ (( i % 2 == 0 ))
+ echo '2 — чётное'
  2 — чётное
  ...
```



























